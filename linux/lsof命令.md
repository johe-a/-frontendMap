# 前言
lsof全称(list open files)，是一个列出当前系统打开文件的工具。在linux环境下，任何事物都以文件的形式存在。通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。所以如传输控制协议（TCP）和用户数据报协议（UDP）等，系统在后台都未应用程序分配了一个**文件描述符**，无论这个文件的本质如何。

# 命令
```shell
lsof [参数][文件]
```
用于查看进程中打开的文件、对应的进程和端口。找回/回复删除的文件。是十分方便的系统监视工具，因为lsof需要访问核心内存和各种文件，所以急需要root用户执行。

lsof打开的文件可以是：
1. 普通文件
2. 目录
3. 网络文件系统的文件
4. 字符或设备文件
5. (函数)共享库
6. 管道，命名管道
7. 符号链接
8. 网络文件（例如：NFS file、网络socket，unix域名socket）
9. 还有其它类型的文件，等等

命令参数
- (-a)列出打开文件存在的进程
- (-c<进程名>)列出制定进程所打开的文件
- (-g)列出GID号进程详情
- (-d<文件号>)列出占用该文件号的进程
- (-i<条件>)列出符合条件的进程（协议、:端口、@ip)


lsof配合grep:
```shell
lsof ./gulu-demo | grep "node"
```
查找包含字符串node的文件


查看某个进程号对应文件信息：
```shell
lsof -p 1

//or
lsof -p 1,2,3
```

查看谁在使用某个端口
```shell
lsof -i :3306
```